import{g as I,J as P,m as k,bc as N,j as M,bH as R,U as z,p as B,q as x,w as l,s as t,x as v,bS as E,b$ as C,X as T,t as $,_ as O}from"./index.53601f29.js";import{d as j}from"./management.e4cac47e.js";import{u as S}from"./useBoolean.98e9c275.js";import{u as V}from"./useLoading.4051ea5b.js";import{g as L,_ as K,b as Y,a as q}from"./Grid.39865dc3.js";import{f as H,_ as J,a as X,b as Q}from"./FormItem.57f42bd0.js";import{_ as W}from"./Input.3bd50f34.js";import{_ as Z}from"./Switch.c3134f1f.js";import{N as F}from"./Tag.c6ee1a54.js";import{N as ee}from"./Popconfirm.c8ddd0f6.js";import{_ as te}from"./Space.5825aa0a.js";import{_ as ne}from"./DataTable.9c0d24b7.js";import"./next-frame-once.e0fd6a2a.js";import"./get.4ea905a4.js";import"./Suffix.8a5dc570.js";import"./use-merged-state.7e5a28e5.js";import"./Popover.0a8891c8.js";import"./Follower.3bd7a0ed.js";import"./cssr.5230a11d.js";import"./use-compitable.1ce3181b.js";import"./Checkbox.2902f99a.js";import"./Dropdown.6b62b009.js";import"./FocusDetector.af05415e.js";import"./use-keyboard.4decbd94.js";import"./Select.d558eed6.js";import"./Forward.d8039457.js";const ae=Object.assign(Object.assign({},Y),X),oe=I({__GRID_ITEM__:!0,name:"FormItemGridItem",alias:["FormItemGi"],props:ae,setup(){const m=P(null);return{formItemInstRef:m,validate:(...i)=>{const{value:_}=m;if(_)return _.validate(...i)},restoreValidation:()=>{const{value:i}=m;if(i)return i.restoreValidation()}}},render(){return k(K,N(this.$.vnode.props||{},L),{default:()=>{const m=N(this.$props,H);return k(J,Object.assign({ref:"formItemInstRef"},m),this.$slots)}})}}),se=I({name:"TableActionModal"}),le=I({...se,props:{visible:{type:Boolean},type:{default:"add"},editData:{default:null}},emits:["update:visible"],setup(m,{emit:b}){const d=m,i=M({get(){return d.visible},set(r){b("update:visible",r)}}),_=M(()=>({add:"\u6DFB\u52A0\u7528\u6237",edit:"\u7F16\u8F91\u7528\u6237"})[d.type]),a=R(c());function c(){return{userName:"",userAge:"",userGender:"null",userPhone:"",userEmail:"",userRole:"user",disabled:!0}}function y(r){Object.assign(a,r)}function h(){({add:()=>{const n=c();y(n)},edit:()=>{d.editData&&y(d.editData)}})[d.type]()}return z(()=>d.visible,r=>{r&&h()}),(r,n)=>{const f=W,u=oe,w=Z,D=q,U=Q,g=C;return B(),x(g,{show:v(i),"onUpdate:show":n[7]||(n[7]=o=>E(i)?i.value=o:null),preset:"card",title:v(_),class:"w-700px"},{default:l(()=>[t(U,{"label-placement":"left","label-width":80,model:a},{default:l(()=>[t(D,{cols:24,"x-gap":18},{default:l(()=>[t(u,{span:12,label:"\u7528\u6237\u540D",path:"userName"},{default:l(()=>[t(f,{value:a.userName,"onUpdate:value":n[0]||(n[0]=o=>a.userName=o)},null,8,["value"])]),_:1}),t(u,{span:12,label:"\u5E74\u9F84",path:"userAge"},{default:l(()=>[t(f,{value:a.userAge,"onUpdate:value":n[1]||(n[1]=o=>a.userAge=o)},null,8,["value"])]),_:1}),t(u,{span:12,label:"\u6027\u522B",path:"userGender"},{default:l(()=>[t(f,{value:a.userGender,"onUpdate:value":n[2]||(n[2]=o=>a.userGender=o)},null,8,["value"])]),_:1}),t(u,{span:12,label:"\u624B\u673A\u53F7",path:"userPhone"},{default:l(()=>[t(f,{value:a.userPhone,"onUpdate:value":n[3]||(n[3]=o=>a.userPhone=o)},null,8,["value"])]),_:1}),t(u,{span:12,label:"\u90AE\u7BB1",path:"userEmail"},{default:l(()=>[t(f,{value:a.userEmail,"onUpdate:value":n[4]||(n[4]=o=>a.userEmail=o)},null,8,["value"])]),_:1}),t(u,{span:12,label:"\u89D2\u8272",path:"userRole"},{default:l(()=>[t(f,{value:a.userRole,"onUpdate:value":n[5]||(n[5]=o=>a.userRole=o)},null,8,["value"])]),_:1}),t(u,{span:12,label:"\u72B6\u6001",path:"disabled"},{default:l(()=>[t(w,{value:a.disabled,"onUpdate:value":n[6]||(n[6]=o=>a.disabled=o)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show","title"])}}}),Be=I({__name:"index",setup(m){const{loading:b,startLoading:d,endLoading:i}=V(!1),{bool:_,setTrue:a}=S(),c=P([]);function y(e){c.value=e}async function h(){d();const{data:e}=await j();console.log(e),e&&setTimeout(()=>{y(e),i()},1e3)}const r=[{type:"selection",align:"center"},{key:"id",title:"ID",align:"center"},{key:"first_name",title:"First Name",align:"center"},{key:"last_name",title:"Last Name",align:"center"},{key:"isPRO",title:"Is Pro",align:"center",render:(e,s)=>{const p=e;return t(F,{type:p.isPRO?"primary":"secondary"},{default:()=>[p.isPRO?"Yes":"No"]})}},{key:"isPending",title:"Is Pending",align:"center",render:(e,s)=>{const p=e;return t(F,{type:p.isPending?"primary":"secondary"},{default:()=>[p.isPending?"Yes":"No"]})}},{key:"phone_no",title:"Phone",align:"center"},{key:"referralCode",title:"Refferal",align:"center"},{key:"actions",title:"Modify",align:"center",render:e=>{const s=e;return t(te,{justify:"center"},{default:()=>[t(T,{size:"small",onClick:()=>D(s.id)},{default:()=>[$("Modify")]}),t(ee,{onPositiveClick:()=>U(s.id)},{default:()=>"Confirm Delete",trigger:()=>t(T,{size:"small"},{default:()=>[$("Delete")]})})]})}}],n=P("add");function f(e){n.value=e}const u=P(null);function w(e){u.value=e}function D(e){const s=c.value.find(p=>p.id===e);s&&w(s),f("edit"),a()}function U(e){var s;(s=window.$message)==null||s.info(`\u70B9\u51FB\u4E86\u5220\u9664\uFF0CrowId\u4E3A${e}`)}const g=R({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,15,20,25,30],onChange:e=>{g.page=e},onUpdatePageSize:e=>{g.pageSize=e,g.page=1}});function o(){h()}return o(),(e,s)=>{const p=ne,A=O;return B(),x(A,{title:"Users",bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[t(p,{columns:r,data:c.value,loading:v(b),pagination:g},null,8,["data","loading","pagination"]),t(v(le),{visible:v(_),"onUpdate:visible":s[0]||(s[0]=G=>E(_)?_.value=G:null),type:n.value,"edit-data":u.value},null,8,["visible","type","edit-data"])]),_:1})}}});export{Be as default};
