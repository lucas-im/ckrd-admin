import{g as P,J as p,bH as R,p as N,q as h,w as z,s as o,x as m,bS as I,X as c,t as d,bM as S,_ as q}from"./index.53601f29.js";import{m as B,c as L}from"./management.e4cac47e.js";import{u as M}from"./useBoolean.98e9c275.js";import{u as U}from"./useLoading.4051ea5b.js";import{N as $}from"./Tag.c6ee1a54.js";import{N as f}from"./Popconfirm.c8ddd0f6.js";import{_ as j}from"./Space.5825aa0a.js";import{_ as A}from"./DataTable.9c0d24b7.js";import"./Popover.0a8891c8.js";import"./Suffix.8a5dc570.js";import"./get.4ea905a4.js";import"./Follower.3bd7a0ed.js";import"./next-frame-once.e0fd6a2a.js";import"./cssr.5230a11d.js";import"./use-merged-state.7e5a28e5.js";import"./use-compitable.1ce3181b.js";import"./Checkbox.2902f99a.js";import"./Dropdown.6b62b009.js";import"./FocusDetector.af05415e.js";import"./use-keyboard.4decbd94.js";import"./Select.d558eed6.js";import"./Input.3bd50f34.js";import"./Forward.d8039457.js";const ce=P({__name:"index",setup(V){const{loading:g,startLoading:_,endLoading:v}=U(!1),{bool:s,setTrue:E}=M(),r=p([]);function y(e){r.value=e}async function b(){_();const{data:e}=await L();console.log(e),e&&setTimeout(()=>{y(e),v()},1e3)}const w=[{type:"selection",align:"center"},{key:"refferedBy",title:"Reffered By",align:"center"},{key:"status",title:"Status",align:"center",render:(e,t)=>{const a=e;return o($,{type:a.status?"primary":"secondary"},{default:()=>[a.status?"Yes":"No"]})}},{key:"userId",title:"User ID",align:"center"},{key:"actions",title:"Actions",align:"center",render:e=>{const t=e;return o(j,{justify:"center"},{default:()=>[o(f,{onPositiveClick:()=>u(t.userId,!0),onNegativeClick:()=>u(t.userId,!1),positiveText:"Approve",negativeText:"Reject",negativeButtonProps:{color:"#E13C39"}},{default:()=>"Respond to this request",trigger:()=>o(c,{size:"small"},{default:()=>[d("Respond")]})}),o(f,{onPositiveClick:()=>x(t.userId)},{default:()=>"Confirm Delete",trigger:()=>o(c,{size:"small"},{default:()=>[d("Delete")]})})]})}}],k=p("add"),T=p(null),u=async(e,t)=>{if((await B(e,t)).data!=null){const i=r.value.find(l=>l.userId===e);i&&(i.status=t)}};function x(e){var t;(t=window.$message)==null||t.info(`\u70B9\u51FB\u4E86\u5220\u9664\uFF0CrowId\u4E3A${e}`)}const n=R({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,15,20,25,30],onChange:e=>{n.page=e},onUpdatePageSize:e=>{n.pageSize=e,n.page=1}});function C(){b()}return C(),(e,t)=>{const a=A,i=S("table-action-modal"),l=q;return N(),h(l,{title:"Premium Requests",bordered:!1,class:"rounded-16px shadow-sm"},{default:z(()=>[o(a,{columns:w,data:r.value,loading:m(g),pagination:n},null,8,["data","loading","pagination"]),o(i,{visible:m(s),"onUpdate:visible":t[0]||(t[0]=D=>I(s)?s.value=D:null),type:k.value,"edit-data":T.value},null,8,["visible","type","edit-data"])]),_:1})}}});export{ce as default};
