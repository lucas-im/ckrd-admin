(function(t,m){typeof exports=="object"&&typeof module!="undefined"?module.exports=m(require("vue")):typeof define=="function"&&define.amd?define(["vue"],m):(t=typeof globalThis!="undefined"?globalThis:t||self,t.SoybeanAdminLayout=m(t.Vue))})(this,function(t){"use strict";var Bt=Object.defineProperty,Ct=Object.defineProperties;var kt=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var j=(t,m,h)=>m in t?Bt(t,m,{enumerable:!0,configurable:!0,writable:!0,value:h}):t[m]=h,y=(t,m)=>{for(var h in m||(m={}))_t.call(m,h)&&j(t,h,m[h]);if(I)for(var h of I(m))Lt.call(m,h)&&j(t,h,m[h]);return t},$=(t,m)=>Ct(t,kt(m));function m(n){let i=0;for(let e=0;e<n.length;++e)n[e]==="&"&&++i;return i}const h=/\s*,(?![^(]*\))\s*/g,q=/\s+/g;function R(n,i){const e=[];return i.split(h).forEach(o=>{let r=m(o);if(r){if(r===1){n.forEach(d=>{e.push(o.replace("&",d))});return}}else{n.forEach(d=>{e.push((d&&d+" ")+o)});return}let a=[o];for(;r--;){const d=[];a.forEach(s=>{n.forEach(f=>{d.push(s.replace("&",f))})}),a=d}a.forEach(d=>e.push(d))}),e}function N(n,i){const e=[];return i.split(h).forEach(o=>{n.forEach(r=>{e.push((r&&r+" ")+o)})}),e}function O(n){let i=[""];return n.forEach(e=>{e=e&&e.trim(),e&&(e.includes("&")?i=R(i,e):i=N(i,e))}),i.join(", ").replace(q," ")}function T(n){if(!n)return;const i=n.parentElement;i&&i.removeChild(n)}function _(n){return document.querySelector(`style[cssr-id="${n}"]`)}function Z(n){const i=document.createElement("style");return i.setAttribute("cssr-id",n),i}function B(n){return n?/^\s*@(s|m)/.test(n):!1}const U=/[A-Z]/g;function W(n){return n.replace(U,i=>"-"+i.toLowerCase())}function G(n,i="  "){return typeof n=="object"&&n!==null?` {
`+Object.entries(n).map(e=>i+`  ${W(e[0])}: ${e[1]};`).join(`
`)+`
`+i+"}":`: ${n};`}function X(n,i,e){return typeof n=="function"?n({context:i.context,props:e}):n}function z(n,i,e,o){if(!i)return"";const r=X(i,e,o);if(!r)return"";if(typeof r=="string")return`${n} {
${r}
}`;const a=Object.keys(r);if(a.length===0)return e.config.keepEmptyBlock?n+` {
}`:"";const d=n?[n+" {"]:[];return a.forEach(s=>{const f=r[s];if(s==="raw"){d.push(`
`+f+`
`);return}s=W(s),f!=null&&d.push(`  ${s}${G(f)}`)}),n&&d.push("}"),d.join(`
`)}function L(n,i,e){!n||n.forEach(o=>{if(Array.isArray(o))L(o,i,e);else if(typeof o=="function"){const r=o(i);Array.isArray(r)?L(r,i,e):r&&e(r)}else o&&e(o)})}function A(n,i,e,o,r,a){const d=n.$;let s="";if(!d||typeof d=="string")B(d)?s=d:i.push(d);else if(typeof d=="function"){const l=d({context:o.context,props:r});B(l)?s=l:i.push(l)}else if(d.before&&d.before(o.context),!d.$||typeof d.$=="string")B(d.$)?s=d.$:i.push(d.$);else if(d.$){const l=d.$({context:o.context,props:r});B(l)?s=l:i.push(l)}const f=O(i),c=z(f,n.props,o,r);s?(e.push(`${s} {`),a&&c&&a.insertRule(`${s} {
${c}
}
`)):(a&&c&&a.insertRule(c),!a&&c.length&&e.push(c)),n.children&&L(n.children,{context:o.context,props:r},l=>{if(typeof l=="string"){const u=z(f,{raw:l},o,r);a?a.insertRule(u):e.push(u)}else A(l,i,e,o,r,a)}),i.pop(),s&&e.push("}"),d&&d.after&&d.after(o.context)}function H(n,i,e,o=!1){const r=[];return A(n,[],r,i,e,o?n.instance.__styleSheet:void 0),o?"":r.join(`

`)}function J(n){for(var i=0,e,o=0,r=n.length;r>=4;++o,r-=4)e=n.charCodeAt(o)&255|(n.charCodeAt(++o)&255)<<8|(n.charCodeAt(++o)&255)<<16|(n.charCodeAt(++o)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,i=(e&65535)*1540483477+((e>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(r){case 3:i^=(n.charCodeAt(o+2)&255)<<16;case 2:i^=(n.charCodeAt(o+1)&255)<<8;case 1:i^=n.charCodeAt(o)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}typeof window!="undefined"&&(window.__cssrContext={});function K(n,i,e){const{els:o}=i;if(e===void 0)o.forEach(T),i.els=[];else{const r=_(e);r&&o.includes(r)&&(T(r),i.els=o.filter(a=>a!==r))}}function M(n,i){n.push(i)}function Q(n,i,e,o,r,a,d,s,f){if(a&&!f){if(e===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const x=window.__cssrContext;x[e]||(x[e]=!0,H(i,n,o,a));return}let c;if(e===void 0&&(c=i.render(o),e=J(c)),f){f.adapter(e,c!=null?c:i.render(o));return}const l=_(e);if(l!==null&&!d)return l;const u=l!=null?l:Z(e);if(c===void 0&&(c=i.render(o)),u.textContent=c,l!==null)return l;if(s){const x=document.head.querySelector(`meta[name="${s}"]`);if(x)return document.head.insertBefore(u,x),M(i.els,u),u}return r?document.head.insertBefore(u,document.head.querySelector("style, link")):document.head.appendChild(u),M(i.els,u),u}function Y(n){return H(this,this.instance,n)}function v(n={}){const{id:i,ssr:e,props:o,head:r=!1,silent:a=!1,force:d=!1,anchorMetaName:s}=n;return Q(this.instance,this,i,o,r,a,d,s,e)}function tt(n={}){const{id:i}=n;K(this.instance,this,i)}const C=function(n,i,e,o){return{instance:n,$:i,props:e,children:o,els:[],render:Y,mount:v,unmount:tt}},et=function(n,i,e,o){return Array.isArray(i)?C(n,{$:null},null,i):Array.isArray(e)?C(n,i,null,e):Array.isArray(o)?C(n,i,e,o):C(n,i,e,null)};function b(n={}){let i=null;const e={c:(...o)=>et(e,...o),use:(o,...r)=>o.install(e,...r),find:_,context:{},config:n,get __styleSheet(){if(!i){const o=document.createElement("style");return document.head.appendChild(o),i=document.styleSheets[document.styleSheets.length-1],i}return i}};return e}const nt={name:"LayoutHeader"},it=t.defineComponent($(y({},nt),{props:{fixed:{type:Boolean,default:!0},zIndex:{default:1001},useMinWidthLayout:{type:Boolean},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{fixed:a,zIndex:d,minWidth:s,height:f,paddingLeft:c,transitionDuration:l,transitionTimingFunction:u}=i,x=a?"fixed":"static",g=i.useMinWidthLayout?`min-width:${s}px;`:"";return`position:${x};z-index:${d};${g}height:${f}px;padding-left:${c}px;transition-duration:${l}ms;transition-timing-function:${u};`}),{c:o}=b(),r=o(".admin-layout__header",{left:0,top:0,flexShrink:0,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("header",{class:"admin-layout__header",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}})),ot={name:"LayoutTab"},rt=t.defineComponent($(y({},ot),{props:{fixed:{type:Boolean,default:!0},top:{default:56},zIndex:{default:999},useMinWidthLayout:{type:Boolean},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{fixed:a,top:d,zIndex:s,minWidth:f,height:c,paddingLeft:l,transitionDuration:u,transitionTimingFunction:x}=i,g=a?"fixed":"static",S=i.useMinWidthLayout?`min-width: ${f}px;`:"";return`position:${g};top:${d}px;z-index:${s};${S}height:${c}px;padding-left:${l}px;transition-duration:${u}ms;transition-timing-function:${x};`}),{c:o}=b(),r=o(".admin-layout__tab",{left:0,flexShrink:0,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("div",{class:"admin-layout__tab",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}})),dt={name:"LayoutSider"},at=t.defineComponent($(y({},dt),{props:{zIndex:{default:1002},width:{default:200},paddingTop:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{zIndex:a,width:d,paddingTop:s,transitionDuration:f,transitionTimingFunction:c}=i;return`z-index:${a};width:${d}px;padding-top:${s}px;transition-duration:${f}ms;transition-timing-function:${c};`}),{c:o}=b(),r=o(".admin-layout__sider",{position:"fixed",left:0,top:0,boxSizing:"border-box",width:"100%",height:"100%",transitionProperty:"all"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("aside",{class:"admin-layout__sider",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}})),st={name:"LayoutContent"},lt=t.defineComponent($(y({},st),{props:{paddingTop:{default:0},paddingBottom:{default:0},paddingLeft:{default:0},overflowHidden:{type:Boolean},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{paddingTop:a,paddingBottom:d,paddingLeft:s,transitionDuration:f,transitionTimingFunction:c}=i,l=`overflow:${i.overflowHidden?"hidden":"visible"};`;return`padding-top:${a}px;padding-bottom:${d}px;padding-left:${s}px;${l}transition-duration:${f}ms;transition-timing-function:${c};`}),{c:o}=b(),r=o(".admin-layout__content",{flexGrow:1,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("main",{style:t.normalizeStyle(t.unref(e)),class:"admin-layout__content"},[t.renderSlot(a.$slots,"default")],4))}})),ft={name:"LayoutFooter"},ct=t.defineComponent($(y({},ft),{props:{fixed:{type:Boolean,default:!0},zIndex:{default:999},useMinWidthLayout:{type:Boolean},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{fixed:a,zIndex:d,minWidth:s,height:f,paddingLeft:c,transitionDuration:l,transitionTimingFunction:u}=i,x=a?"fixed":"static",g=i.useMinWidthLayout?`min-width:${s}px;`:"";return`position:${x};z-index:${d};${g}height:${f}px;padding-left:${c}px;transition-duration:${l}ms;transition-timing-function:${u};`}),{c:o}=b(),r=o(".admin-layout__footer",{left:0,bottom:0,flexShrink:0,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("footer",{class:"admin-layout__footer",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}}));function ut(n){const i=t.ref(0),e=t.computed(()=>`transform: translateX(${-i.value}px);`);let o=!1;function r(l){i.value=l}function a(){var u;const l=((u=document.scrollingElement)==null?void 0:u.scrollLeft)||0;r(l)}function d(){a()}function s(){document.addEventListener("scroll",a)}function f(){!o||document.removeEventListener("scroll",a)}function c(){d(),s(),o=!0}return t.watch(n,l=>{l?c():f()},{immediate:!0}),t.onUnmounted(()=>{f()}),e}const mt={name:"AdminLayout"},E=t.defineComponent($(y({},mt),{props:{mode:{default:"vertical"},isMobile:{type:Boolean,default:!1},maskBg:{default:"rgba(0,0,0,0.3)"},useMinWidthLayout:{type:Boolean,default:!1},minWidth:{default:1200},headerVisible:{type:Boolean,default:!0},headerHeight:{default:56},tabVisible:{type:Boolean,default:!0},tabHeight:{default:44},fixedHeaderAndTab:{type:Boolean,default:!0},addMainOverflowHidden:{type:Boolean,default:!1},footerVisible:{type:Boolean,default:!0},footerHeight:{default:48},fixedFooter:{type:Boolean,default:!0},siderVisible:{type:Boolean,default:!0},siderWidth:{default:200},siderCollapsedWidth:{default:64},siderCollapse:{type:Boolean,default:!1},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},emits:["update:sider-collapse"],setup(n,{emit:i}){const e=n,o=t.computed(()=>e.useMinWidthLayout?`min-width:${e.minWidth}px;`:""),r=t.computed(()=>e.useMinWidthLayout&&(e.fixedHeaderAndTab||e.fixedFooter)),a=ut(r),d=t.computed(()=>e.fixedHeaderAndTab?a.value:""),s=t.computed(()=>e.fixedFooter?a.value:""),f=t.computed(()=>{const{transitionDuration:p,transitionTimingFunction:w}=e;return{transitionDuration:p,transitionTimingFunction:w}}),c=t.computed(()=>e.mode==="vertical"),l=1001,u=999,x=t.computed(()=>e.isMobile||c.value?1003:1e3),g=998,S=t.computed({get(){return e.siderCollapse},set(p){i("update:sider-collapse",p)}});function ht(){S.value=!0}const xt=t.computed(()=>e.isMobile&&!S.value),gt=t.computed(()=>{const{transitionDuration:p,transitionTimingFunction:w}=e;return`background-color:${e.maskBg};transition-duration:${p}ms;transition-timing-function:${w};`}),F=t.computed(()=>{const{siderWidth:p,siderCollapsedWidth:w}=e,D=e.isMobile?0:w,St=S.value?D:p;return e.siderVisible?St:0}),k=t.computed(()=>e.isMobile?0:F.value),yt=t.computed(()=>c.value?k.value:0),$t=t.computed(()=>!e.isMobile&&!c.value&&e.headerVisible?e.headerHeight:0),bt=t.computed(()=>{let p=0;return e.fixedHeaderAndTab&&(e.headerVisible&&(p+=e.headerHeight),e.tabVisible&&(p+=e.tabHeight)),p}),wt=t.computed(()=>e.fixedFooter&&e.footerVisible?e.footerHeight:0),{c:V}=b(),P=V(".admin-layout",{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[V("&__sider-mask",{position:"fixed",left:0,top:0,zIndex:1002,width:"100%",height:"100%",transitionProperty:"background-color"})]);return P.render(),P.mount(),(p,w)=>(t.openBlock(),t.createElementBlock("div",{class:"admin-layout",style:t.normalizeStyle(t.unref(o))},[n.headerVisible?(t.openBlock(),t.createBlock(t.unref(it),t.mergeProps({key:0},t.unref(f),{fixed:n.fixedHeaderAndTab,"z-index":l,"min-width":n.minWidth,height:n.headerHeight,"padding-left":t.unref(yt),style:t.unref(d)}),{default:t.withCtx(()=>[t.renderSlot(p.$slots,"header")]),_:3},16,["fixed","min-width","height","padding-left","style"])):t.createCommentVNode("",!0),n.tabVisible?(t.openBlock(),t.createBlock(t.unref(rt),t.mergeProps({key:1},t.unref(f),{fixed:n.fixedHeaderAndTab,"z-index":u,"min-width":n.minWidth,top:n.headerHeight,height:n.tabHeight,"padding-left":t.unref(k),style:t.unref(d)}),{default:t.withCtx(()=>[t.renderSlot(p.$slots,"tab")]),_:3},16,["fixed","min-width","top","height","padding-left","style"])):t.createCommentVNode("",!0),n.siderVisible?(t.openBlock(),t.createBlock(t.unref(at),t.mergeProps({key:2},t.unref(f),{"z-index":t.unref(x),width:t.unref(F),"padding-top":t.unref($t)}),{default:t.withCtx(()=>[t.renderSlot(p.$slots,"sider")]),_:3},16,["z-index","width","padding-top"])):t.createCommentVNode("",!0),t.unref(xt)?(t.openBlock(),t.createElementBlock("div",{key:3,class:"admin-layout__sider-mask",style:t.normalizeStyle(t.unref(gt)),onClick:ht},null,4)):t.createCommentVNode("",!0),t.createVNode(t.unref(lt),t.mergeProps(t.unref(f),{"padding-top":t.unref(bt),"padding-bottom":t.unref(wt),"padding-left":t.unref(k),"overflow-hidden":n.addMainOverflowHidden}),{default:t.withCtx(()=>[t.renderSlot(p.$slots,"default")]),_:3},16,["padding-top","padding-bottom","padding-left","overflow-hidden"]),n.footerVisible?(t.openBlock(),t.createBlock(t.unref(ct),t.mergeProps({key:4},t.unref(f),{fixed:n.fixedFooter,"z-index":g,"min-width":n.minWidth,height:n.footerHeight,"padding-left":t.unref(k),style:t.unref(s)}),{default:t.withCtx(()=>[t.renderSlot(p.$slots,"footer")]),_:3},16,["fixed","min-width","height","padding-left","style"])):t.createCommentVNode("",!0)],4))}}));function pt(n){n.component("AdminLayout",E)}return E.install=pt,E});
